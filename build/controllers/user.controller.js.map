{"version":3,"sources":["../../server/controllers/user.controller.js"],"names":["jwt","require","atob","Cryptr","cryptr","User","list","req","res","next","sql","query","db","err","result","message","console","log","end","JSON","stringify","create","user","body","fname","first_name","lname","last_name","username","pass","password","email","dec_pass","toString","encrypted_pass","encrypt"],"mappings":";;;;;AAAA,IAAIA,MAAMC,QAAQ,cAAR,CAAV;AACA,IAAIC,OAAMD,QAAQ,MAAR,CAAV;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;AACA,IAAIG,SAAS,IAAID,MAAJ,CAAW,yCAAX,CAAb;AACA,IAAIE,OAAOJ,QAAQ,eAAR,CAAX;;AAEC,IAAMK,OAAO,SAAPA,IAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAC5B,MAAIC,MAAM,qBAAV;AACA,MAAIC,QAAQC,GAAGD,KAAH,CAASD,GAAT,EAAc,UAASG,GAAT,EAAcC,MAAd,EAAqB;AAC5CC,cAAU,WAAV;AACDC,YAAQC,GAAR,CAAYV,GAAZ;AACEC,QAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAeN,MAAf,CAAR;AACP,GAJe,CAAZ;AAKH,CAPD;;AAUD,IAAMO,SAAS,SAATA,MAAS,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/B,MAAMa,OAAO,IAAIjB,IAAJ,CAASE,IAAIgB,IAAb,CAAb;AACA,MAAIC,QAASF,KAAKG,UAAlB;AACA,MAAIC,QAAOJ,KAAKK,SAAhB;AACA,MAAIC,WAAWN,KAAKM,QAApB;AACA,MAAIC,OAAMP,KAAKQ,QAAf;AACA,MAAIC,QAAMT,KAAKS,KAAf;AACA,MAAIC,WAAU9B,KAAK+B,SAAS1B,IAAIgB,IAAJ,CAASO,QAAlB,CAAL,CAAd;AACA,MAAII,iBAAiB9B,OAAO+B,OAAP,CAAeH,QAAf,CAArB;;AAEA,MAAItB,MAAM,yGAAyGc,KAAzG,GAAiH,KAAjH,GAAyHE,KAAzH,GAAiI,KAAjI,GAAyIE,QAAzI,GAAoJ,KAApJ,GAA2JG,KAA3J,GAAkK,KAAlK,GAAyKG,cAAzK,GAAyL,IAAnM;AACK,MAAIvB,QAAQC,GAAGD,KAAH,CAASD,GAAT,EAAc,UAASG,GAAT,EAAcC,MAAd,EAAqB;AAC5CC,cAAU,6CAAV;AACDC,YAAQC,GAAR,CAAYV,GAAZ;;AAGCC,QAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAeN,MAAf,CAAR;AACR,GANiB,CAAZ;AAQR,CAnBD;;QAsBIO,M,GAAAA,M;QACAf,I,GAAAA,I","file":"user.controller.js","sourcesContent":["var jwt = require('jsonwebtoken');\r\nvar atob =require('atob')\r\nvar Cryptr = require('cryptr')\r\nvar cryptr = new Cryptr('q1w2e3r4t5y6u7i8o9p0p0o9i8u6y5t4r3e2w1q')\r\nvar User = require('../model/user')\r\n\r\n const list = (req, res, next) =>{\r\n     var sql = \"SELECT * from users\"\r\n     var query = db.query(sql, function(err, result){\r\n        message = \"got users\";\r\n       console.log(req)\r\n         res.end(JSON.stringify(result));\r\n });\r\n }\r\n\r\n\r\nconst create = (req, res, next) => {\r\n    const user = new User(req.body)\r\n    var fname  = user.first_name;\r\n    var lname= user.last_name;\r\n    var username = user.username;\r\n    var pass= user.password;\r\n    var email=user.email;\r\n    var dec_pass =atob(toString(req.body.password));\r\n    var encrypted_pass = cryptr.encrypt(dec_pass);\r\n\r\n    var sql = \"INSERT INTO `user`(`user_id`,`first_name`,`last_name`,`user_name` , `email`,`password`) VALUES ('','\" + fname + \"','\" + lname + \"','\" + username + \"','\" +email+ \"','\" +encrypted_pass+ \"')\";\r\n         var query = db.query(sql, function(err, result){\r\n            message = \"Succesfully! Your account has been created.\";\r\n           console.log(req)\r\n            \r\n            \r\n            res.end(JSON.stringify(result));\r\n   });\r\n\r\n};\r\n\r\n  export \r\n  { create , \r\n    list} "]}